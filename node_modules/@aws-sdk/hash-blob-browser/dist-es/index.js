import { __awaiter, __generator } from "tslib";
import { blobReader } from "@aws-sdk/chunked-blob-reader";
export var blobHasher = function blobHasher(hashCtor, blob) {
    return __awaiter(this, void 0, void 0, function () {
        var hash;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    hash = new hashCtor();
                    return [4, blobReader(blob, function (chunk) {
                            hash.update(chunk);
                        })];
                case 1:
                    _a.sent();
                    return [2, hash.digest()];
            }
        });
    });
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUcxRCxNQUFNLENBQUMsSUFBTSxVQUFVLEdBQXVCLFNBQWUsVUFBVSxDQUNyRSxRQUF5QixFQUN6QixJQUFVOzs7Ozs7b0JBRUosSUFBSSxHQUFHLElBQUksUUFBUSxFQUFFLENBQUM7b0JBRTVCLFdBQU0sVUFBVSxDQUFDLElBQUksRUFBRSxVQUFDLEtBQUs7NEJBQzNCLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7d0JBQ3JCLENBQUMsQ0FBQyxFQUFBOztvQkFGRixTQUVFLENBQUM7b0JBRUgsV0FBTyxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUM7Ozs7Q0FDdEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJsb2JSZWFkZXIgfSBmcm9tIFwiQGF3cy1zZGsvY2h1bmtlZC1ibG9iLXJlYWRlclwiO1xuaW1wb3J0IHsgSGFzaENvbnN0cnVjdG9yLCBTdHJlYW1IYXNoZXIgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IGJsb2JIYXNoZXI6IFN0cmVhbUhhc2hlcjxCbG9iPiA9IGFzeW5jIGZ1bmN0aW9uIGJsb2JIYXNoZXIoXG4gIGhhc2hDdG9yOiBIYXNoQ29uc3RydWN0b3IsXG4gIGJsb2I6IEJsb2Jcbik6IFByb21pc2U8VWludDhBcnJheT4ge1xuICBjb25zdCBoYXNoID0gbmV3IGhhc2hDdG9yKCk7XG5cbiAgYXdhaXQgYmxvYlJlYWRlcihibG9iLCAoY2h1bmspID0+IHtcbiAgICBoYXNoLnVwZGF0ZShjaHVuayk7XG4gIH0pO1xuXG4gIHJldHVybiBoYXNoLmRpZ2VzdCgpO1xufTtcbiJdfQ==